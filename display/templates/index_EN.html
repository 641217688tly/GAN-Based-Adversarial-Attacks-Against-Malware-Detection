<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <title>Malware Classification System</title>
<body>
<el-tabs id="tabs" type="border-card">
    <el-tab-pane label="Classification">
        <el-container>
            <el-header height="40%">
                <el-upload
                        drag
                        action="http://127.0.0.1:5000/uploader"
                        :show-file-list="false"
                        :on-success="handleSuccess"
                        :on-progress="handleProgress"
                        multiple>
                    <i class="el-icon-upload"></i>
                    <div class="el-upload__text">Drag files here or<em>click upload</em></div>
                    <div class="el-upload__tip" slot="tip">Only supports asm/bytes/bmp files</div>
                </el-upload>
            </el-header>
            <el-main>
                <div v-show="tableVisible">
                    <el-table :data="tableData" style="width: 100%" v-loading="loading">
                        <el-table-column label="File" align="center" prop="fileName"></el-table-column>
                        <el-table-column label="Prediction" align="center">
                            <el-table-column label="LSTM_DPCNN" align="center">
                                <el-table-column label="Ramnit" prop="LD[0]"></el-table-column>
                                <el-table-column label="Lollipop" prop="LD[1]"></el-table-column>
                                <el-table-column label="Kelihos_ver3" prop="LD[2]"></el-table-column>
                                <el-table-column label="Vundo" prop="LD[3]"></el-table-column>
                                <el-table-column label="Simda" prop="LD[4]"></el-table-column>
                                <el-table-column label="Tracur" prop="LD[5]"></el-table-column>
                                <el-table-column label="Kelihos_ver1" prop="LD[6]"></el-table-column>
                                <el-table-column label="Obfuscator" prop="LD[7]"></el-table-column>
                                <el-table-column label="Gatak" prop="LD[8]"></el-table-column>
                            </el-table-column>
                            <el-table-column label="ResNet-34" align="center">
                                <el-table-column label="Ramnit" prop="ResNet[0]"></el-table-column>
                                <el-table-column label="Lollipop" prop="ResNet[1]"></el-table-column>
                                <el-table-column label="Kelihos_ver3" prop="ResNet[2]"></el-table-column>
                                <el-table-column label="Vundo" prop="ResNet[3]"></el-table-column>
                                <el-table-column label="Simda" prop="ResNet[4]"></el-table-column>
                                <el-table-column label="Tracur" prop="ResNet[5]"></el-table-column>
                                <el-table-column label="Kelihos_ver1" prop="ResNet[6]"></el-table-column>
                                <el-table-column label="Obfuscator" prop="ResNet[7]"></el-table-column>
                                <el-table-column label="Gatak" prop="ResNet[8]"></el-table-column>
                            </el-table-column>
                        </el-table-column>
                    </el-table>
                </div>
            </el-main>
        </el-container>
    </el-tab-pane>
    <el-tab-pane label="Grayscale Preview">
        <el-collapse>
            <el-collapse-item title="Ramnit" id="Ramnit">
                <div>
                    <div class="block">
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/1/1.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/1/2.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/1/3.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/1/4.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/1/5.bmp"
                                fit="contain"></el-image>
                    </div>
                </div>
            </el-collapse-item>
            <el-collapse-item title="Lollipop">
                <div>
                    <div class="block">
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/2/1.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/2/2.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/2/3.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/2/4.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/2/5.bmp"
                                fit="contain"></el-image>
                    </div>
                </div>
            </el-collapse-item>
            <el-collapse-item title="Kelihos_ver3">
                <div>
                    <div class="block">
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/3/1.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/3/2.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/3/3.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/3/4.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/3/5.bmp"
                                fit="contain"></el-image>
                    </div>
                </div>
            </el-collapse-item>
            <el-collapse-item title="Vundo">
                <div>
                    <div class="block">
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/4/1.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/4/2.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/4/3.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/4/4.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/4/5.bmp"
                                fit="contain"></el-image>
                    </div>
                </div>
            </el-collapse-item>
            <el-collapse-item title="Simda">
                <div>
                    <div class="block">
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/5/1.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/5/2.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/5/3.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/5/4.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/5/5.bmp"
                                fit="contain"></el-image>
                    </div>
                </div>
            </el-collapse-item>
            <el-collapse-item title="Tracur">
                <div>
                    <div class="block">
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/6/1.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/6/2.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/6/3.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/6/4.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/6/5.bmp"
                                fit="contain"></el-image>
                    </div>
                </div>
            </el-collapse-item>
            <el-collapse-item title="Kelihos_ver1">
                <div>
                    <div class="block">
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/7/1.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/7/2.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/7/3.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/7/4.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/7/5.bmp"
                                fit="contain"></el-image>
                    </div>
                </div>
            </el-collapse-item>
            <el-collapse-item title="Obfuscator.ACY">
                <div>
                    <div class="block">
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/8/1.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/8/2.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/8/3.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/8/4.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/8/5.bmp"
                                fit="contain"></el-image>
                    </div>
                </div>
            </el-collapse-item>
            <el-collapse-item title="Gatak">
                <div>
                    <div class="block">
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/9/1.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/9/2.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/9/3.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/9/4.bmp"
                                fit="contain"></el-image>
                        <el-image
                                style="width: 256px; height: 256px"
                                src="../static/images/9/5.bmp"
                                fit="contain"></el-image>
                    </div>
                </div>
            </el-collapse-item>
        </el-collapse>
    </el-tab-pane>
    <el-tab-pane label="Model Preview">
        <div>
            <div class="block">
                <el-image
                        style="width: 768px; height: 768px"
                        src="../static/images/model/lstm_dpcnn.png"
                        fit="contain"></el-image>
                <el-image
                        style="width: 768px; height: 768px"
                        src="../static/images/model/resnet-34.png"
                        fit="contain"></el-image>
            </div>
        </div>
    </el-tab-pane>
</el-tabs>
</body>
<!--https://unpkg.com/vue/dist/vue.js-->
<script src="https://unpkg.com/vue@2.7.15/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
    var app = new Vue({
        el: '#tabs',
        data: {
            tableData: [],
            loading: true,
            tableVisible: false
        },
        methods: {
            handleSuccess(response) {
                this.tableData.push({
                    fileName: response['fileName'],
                    LD: response['probabilityLD'],
                    ResNet: response['probabilityResNet']
                });
                this.loading = false;
            },
            handleProgress(response) {
                this.tableVisible = true;
            }
        }
    })
</script>
</html>